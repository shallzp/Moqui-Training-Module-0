<?xml version="1.0" encoding="UTF-8" ?>
<screen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/xml-screen-3.xsd"
        require-authentication="anonymous-all">

    <transition name="createPerson">
        <service-call name="party.PartyServices.create#Person" />
        <default-response url="." />
    </transition>

    <actions>
        <entity-find entity-name="party.Person" list="personList" />
    </actions>

    <widgets>

        <container-box>
            <box-header>
                <label text="Find Party" type="h4" />
            </box-header>

            <box-toolbar>
                <!-- Create Party Button to open Form -->
                <container-dialog id="createPersonDialog" button-text="Create Person">
                    <form-single name="CreatePerson" transition="createPerson">
                        <auto-fields-entity entity-name="party.Person" field-type="edit" />
                        <field name="submitButton">
                            <default-field title="Create">
                                <submit />
                            </default-field>
                        </field>
                    </form-single>
                </container-dialog>
            </box-toolbar>

            <box-body>
                <form-list name="ListPerson" list="personList" header-dialog="true" skip-form="true">
                    <field name="partyId">
                        <default-field>
                            <display />
                        </default-field>
                    </field>

                    <field name="firstName">
                        <default-field>
                            <display />
                        </default-field>
                    </field>

                    <field name="lastName">
                        <default-field>
                            <display />
                        </default-field>
                    </field>

                    <field name="dateOfBirth">
                        <default-field>
                            <display />
                        </default-field>
                    </field>
                </form-list>
            </box-body>
        </container-box>
    </widgets>
</screen>